<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Smart Attendance</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<link rel="stylesheet" href="style.css">
<script src="app.js" defer></script>
</head>
<body>

<div class="container">
  <h1>ЁЯУН Smart Attendance</h1>
  <div id="clock" class="clock">--:--:--</div>

  <input id="studentId" placeholder="р╕Бр╕гр╕нр╕Бр╕гр╕лр╕▒р╕кр╕Щр╕▒р╕Бр╕ир╕╢р╕Бр╕йр╕▓" oninput="findStudent()">
  <div id="studentName">р╕гр╕нр╕Бр╕▓р╕гр╕Бр╕гр╕нр╕Бр╕гр╕лр╕▒р╕к</div>

  <button onclick="checkIn()">тЬЕ р╣Ар╕Кр╣Зр╕Др╕Кр╕╖р╣Ир╕нр╣Ар╕Вр╣Йр╕▓р╣Ар╕гр╕╡р╕вр╕Щ</button>

  <div id="map"></div>

  <div class="history-section">
    <label>р╕зр╕▒р╕Щр╕Чр╕╡р╣И: <input type="date" id="historyDate" onchange="loadHistory()"></label>
    <input type="text" id="searchName" placeholder="р╕Др╣Йр╕Щр╕лр╕▓р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕н" oninput="filterHistory()">
    <h3>р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕нр╕Чр╕╡р╣Ир╣Ар╕Кр╣Зр╕Др╕Кр╕╖р╣Ир╕нр╣Бр╕ер╣Йр╕з</h3>
    <div id="history" class="history"></div>
    <canvas id="attendanceChart" height="150"></canvas>
    <button onclick="exportCSV()">ЁЯУе р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф CSV</button>
  </div>
</div>

<div class="theme-toggle">
  <button id="darkModeBtn">ЁЯМЩ Dark Mode</button>
</div>

<div id="popup" class="popup"></div>

</body>
</html>
